<div class="row">
    <div class="col-4 my-5 pt-5 text-center">
        <h1>Reactive Forms</h1>
    </div>
    <div class="field-container col-8">
        <form (ngSubmit)="onSubmit()" [formGroup]="actorForm">
            <div class="field-container">
                <mat-form-field  appearance="fill">
                    <mat-label>Name</mat-label>
                    <input matInput type="text" id="name" formControlName='name' class="form-control"
                    required>
                    <!-- <mat-hint>Errors appear instantly!</mat-hint> -->
                @if (name.invalid && (name.dirty || name.touched)) {
                    <mat-error>Please enter a valid Name</mat-error>
                }
                @if (name.hasError('required')) {
                    <mat-error>Name is <strong>required</strong></mat-error>
                }
                </mat-form-field>
            
                <mat-form-field appearance="fill">
                    <mat-label>Email</mat-label>
                    <input matInput type="email" name="email" formControlName='email' required>
                    <!-- <mat-hint>Errors appear instantly!</mat-hint> -->
                @if (email.invalid && (email.dirty || email.touched)) {
                    <mat-error>Please enter a valid email</mat-error>
                }
                @if (email.hasError('required')) {
                    <mat-error>Email is <strong>required</strong></mat-error>
                }
                </mat-form-field>
        
                <mat-form-field >
                    <mat-label>Skill</mat-label>
                    <mat-select name="skill" formControlName='skill' required>
                        <mat-option *ngFor="let skill of skills" [value]="skill">{{skill}}</mat-option>
                    </mat-select>
                @if (skill.invalid && (skill.dirty || skill.touched)) {
                    <mat-error>Please enter a valid skill</mat-error>
                }
                @if (skill.hasError('required')) {
                    <mat-error>skill is <strong>required</strong></mat-error>
                }
                </mat-form-field>
            </div>
        
            
            <div class="form-fields">
                <mat-form-field>
                    <mat-label>Telephone</mat-label>
                    <span matTextPrefix>+91 &nbsp;</span>
                    <input type="tel" matInput placeholder="555-555-1234" name="mobile" formControlName="mobile" required>
                    <mat-icon matSuffix>mode_edit</mat-icon>
                    <!-- <mat-hint>Errors appear instantly!</mat-hint> -->
                @if (mobile.invalid && (mobile.dirty || mobile.touched)) {
                    <mat-error>Please enter a valid mobile</mat-error>
                }
                @if (mobile.hasError('required')) {
                    <mat-error>mobile is <strong>required</strong></mat-error>
                }
                </mat-form-field>
        
                <mat-form-field>
                    <mat-label>DOB</mat-label>
                    <input matInput [min]="minDate" [max]="maxDate" name="dob" formControlName="dob" [matDatepicker]="picker" required>
                    <mat-hint>DD/MM/YYYY</mat-hint>
                    <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                @if (dob.invalid && (dob.dirty || dob.touched)) {
                    <mat-error>Please enter a valid dob</mat-error>
                }
                @if (dob.hasError('required')) {
                    <mat-error>DOB is <strong>required</strong></mat-error>
                }
                </mat-form-field>
            
                <mat-form-field>
                    <mat-label>Studio</mat-label>
                    <input matInput type="text" name="studio" formControlName="studio" required>
                    <!-- <mat-hint>Errors appear instantly!</mat-hint> -->
                @if (studio.invalid && (studio.dirty || studio.touched)) {
                    <mat-error>Please enter a valid studio</mat-error>
                }
                @if (studio.hasError('required')) {
                    <mat-error>studio is <strong>required</strong></mat-error>
                }
                </mat-form-field>
            </div>
    
            <div formArrayName="aliases">
                <button mat-button (click)="addAlias()">Add Alias</button>
                <div *ngFor="let alias of aliases.controls; let i = index">
                    <mat-form-field >
                        <mat-label>alias-{{i}}</mat-label>
                        <input matInput type="text" name="alias-{{i}}" [formControlName]="i" required>
                        
                        <!-- <mat-hint>Errors appear instantly!</mat-hint> -->
                    <!-- @if (address.invalid && (address.dirty || address.touched)) {
                        <mat-error>Please enter a valid address</mat-error>
                    }
                    @if (address.hasError('required')) {
                        <mat-error>address is <strong>required</strong></mat-error>
                    } -->
                    </mat-form-field>
                    <button mat-button (click)="deleteAlias(i)">
                        <mat-icon>delete</mat-icon>
                    </button>
                </div>
            </div>

            <label id="example-radio-group-label">Gender</label>
            <mat-radio-group name="gender" formControlName="gender">
                <mat-radio-button value="Male">Male</mat-radio-button>
                <mat-radio-button value="Female">Female</mat-radio-button>
            </mat-radio-group>
            <!-- @if (gender.invalid && (gender.dirty || gender.touched)) {
                <mat-error>Please enter a valid gender</mat-error>
            }
            @if (gender.hasError('required')) {
                <mat-error>gender is <strong>required</strong></mat-error>
            } -->
        
                <div formGroupName="address">
                <mat-form-field >
                    <mat-label>Street</mat-label>
                    <textarea matInput type="text" name="Street" formControlName="street" required>
                    </textarea>
                    <!-- <mat-hint>Errors appear instantly!</mat-hint> -->
                @if (street.invalid && (street.dirty || street.touched)) {
                    <mat-error>Please enter a valid street</mat-error>
                }
                @if (street.hasError('required')) {
                    <mat-error>street is <strong>required</strong></mat-error>
                }
                </mat-form-field>
                
                <mat-form-field >
                    <mat-label>City</mat-label>
                    <textarea matInput type="text" name="city" formControlName="city" required>
                    </textarea>
                    <!-- <mat-hint>Errors appear instantly!</mat-hint> -->
                <!-- @if (address.invalid && (address.dirty || address.touched)) {
                    <mat-error>Please enter a valid address</mat-error>
                }
                @if (address.hasError('required')) {
                    <mat-error>address is <strong>required</strong></mat-error>
                } -->
                </mat-form-field>
                <mat-form-field >
                    <mat-label>state</mat-label>
                    <textarea matInput type="text" name="state" formControlName="state" required>
                    </textarea>
                    <!-- <mat-hint>Errors appear instantly!</mat-hint> -->
                <!-- @if (address.invalid && (address.dirty || address.touched)) {
                    <mat-error>Please enter a valid address</mat-error>
                }
                @if (address.hasError('required')) {
                    <mat-error>address is <strong>required</strong></mat-error>
                } -->
                </mat-form-field>
                <mat-form-field >
                    <mat-label>zip</mat-label>
                    <textarea matInput type="text" name="zip" formControlName="zip" required>
                    </textarea>
                    <!-- <mat-hint>Errors appear instantly!</mat-hint> -->
                <!-- @if (address.invalid && (address.dirty || address.touched)) {
                    <mat-error>Please enter a valid address</mat-error>
                }
                @if (address.hasError('required')) {
                    <mat-error>address is <strong>required</strong></mat-error>
                } -->
                </mat-form-field>
            </div>

            <p class="align-items:center">

                <button type="submit" class="btn btn-success m-2"
                [disabled]="!actorForm.valid">Submit</button>
                <button type="reset" class="btn btn-danger">Reset</button>
            </p>
        </form>
        <p *ngIf="submitted">{{this.actorForm.getRawValue() | json}}</p>
    </div>
</div>
